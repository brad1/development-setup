# unset variable
end -U NAME
unset NAME

# check regex
[[ "$string" =~ ^[0-9]+$ ]] && echo yes

# filenames in batches, plus gsub:
names=$(ls packages/*.rpm | xargs -I % basename %)
names=${PACKAGE_NAMES//\.rpm/}

echo $(basename $(pwd)) # name directory were running in:
echo $(basename $(dirname $(<script_filepath>))) # equivalent to above
echo $(basename $(dirname $(pwd))) # name of 2 dirs up!

# args
for arg in $@;
do
  [ "vecap" = "$arg" ] && echo hello
done

## increment/math
var=0
echo $((var++))
echo $((var++))
echo $((COLUMNS - 2))
echo $((RANDOM % 2)) # random 1 or 0

## no escape
port=$(cat file | grep -o "$pattern")     # works
port="$(cat file | grep -o \"$pattern\")" # can't work

(list)   # run in subshell, exit 1 does not kill the script
{list; } # run in current shell

for i in $(seq 1 $END); do echo $i; done
for i in /etc/*.conf; do cp $i /backup; done
for word in word1 word2 word3 word4; do echo word; done

Ex.
for i in $(vagrant box list | cut -f 1 -d' ' | xargs); do vagrant box remove $i; done

# run a function in the background
my_background_method {
  ...
}
my_background_method &


case "$asdf" in
"hello")
   echo hello
   ;;
"abcd")
   echo asdf
   ;;
esac


# Background watcher
ls /path/to/file || exit
:>/root/log
:>/root/err
run_when_appears() {
  for i in $(seq 1 30); do
    ls /path/to/generated_file && break
    echo "waiting..." >> /root/log;
    sleep 20
  done
  run_thing
}
run_when_appears &

