# process on port
lsof -i :80

# extract fingerprint from cert:
openssl x509 -noout -fingerprint -[sha256|sha1|md5] -inform pem -in [certificate-file.crt]

# find mutliple extension
find . -type f \( -name "*.sh" -o -name "*.txt" \)

# find cert fingerprints on system
find /etc -type f \( -name "*.crt" -o -name "*.pem" \) > find.out 2>&1
for fn in $(cat ./find.out) ; do
  echo "$fn"
  openssl x509 -noout -fingerprint -sha256 -inform pem -in "$fn"
  echo
done


self signed cert with passphrase:
openssl genrsa -des3 -out server.key 1024
openssl req -new -key server.key -out server.csr
openssl rsa -in server.key.org -out server.key # optional, remove passphrase
openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt




# systemd

systemctl list-unit-files | grep enabled





# linux programmer's guide!
man 1 intro
man 2 intro

# silently kill child processes
flask run --host=0.0.0.0 --port=9000 >/dev/null 2>&1 &
pid="$!"
disown
echo "$pid">flask_pid
flask_pid="$(cat flask_pid)"
kill "$flask_pid"
wait "$!" 2>/dev/null




# send udp plaintext payload
[root@localhost ~]# nc -u 127.0.0.1 8989
<xml>matchme</xml>


# tar
tar -cvf tecmint-14-09-12.tar /home/tecmint/

tar cvfj Phpfiles-org.tar.bz2 /home/php

tar -xvf public_html-14-09-12.tar -C /home/public_html/videos/

tar -xvf thumbnails-14-09-12.tar.gz -C /

# sorted disk usage:
du -sh * | sort -rh

# host key checking
Host *
    StrictHostKeyChecking no

sudo chmod 400 ~/.ssh/config



# reset time on rhel 7
timedatectl set-ntp false
timedatectl set-time 2020-01-07


# alt to netstat -lnt
ss -lnt

# list mount points including ramdisk
findmnt

# ramdisk tmpfs/ramfs
mount -t tmpfs -o size=512m tmpfs /mnt/ramdisk

lscpu | grep -E '^Core|^Socket\('
Core(s) per socket:    6
Socket(s):             2
so, 12 physical cores across 2 physical CPU sockets.

a disk usage:
I recursively use:
du -sh *
when it gets stuck, it hit a large directory.


# docker cleanup:
docker image prune, etc


# Network
netstat -ntp # show ports in a time_wait state

# crontab 5am daily:
0 5 * * * rm /root/file
